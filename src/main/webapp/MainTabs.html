<div ng-controller="MainTabs">
    <tabset>
        <tab ng-controller="VmTab">
            <tab-heading>
                <i class="fa fa-cubes"></i> VMs
            </tab-heading>
            <button type="button" class="btn btn-default glyphicon glyphicon-plus" ng-click="newVmForm()">New VM</button>
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <td>name</td>
                    <td style="width:30px">vCPUs</td>
                    <td style="width:90px">RAM</td>
                    <td>status</td>
                    <td>expectations</td>
                    <td>actions</td>
                </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="_vm in vms" ng-controller="VmRow" ng-init="init(_vm)">
                        <td>{{vm.name}}</td>
                        <td>{{vm.nrOfCpus}}</td>
                        <td>{{humanFriendlySize(vm.memory.min)}} - {{humanFriendlySize(vm.memory.max)}}</td>
                        <td>{{vmdyn.load()}}</td>
                        <td>
                            <span ng-repeat="expectation in _vm.expectations"
                                  ng-controller="ExpectationMini"
                                  ng-init="init(expectation)">
                                <span class="label label-{{style}}">
                                    <span class="{{icon}}"></span>
                                    {{description}}
                                </span>
                            </span>
                        </td>
                        <td>
                            <button type="button" class="btn btn-default" ng-click="startVm()" ng-disabled="workingprg">
                                <span class="glyphicon glyphicon-play"></span>
                            </button>
                            <button type="button" class="btn btn-default" ng-click="stopVm()" ng-disabled="workingprg">
                                <span class="glyphicon glyphicon-stop"></span>
                            </button>
                            <button type="button" class="btn btn-default">
                                <span class="glyphicon glyphicon-pause"></span>
                            </button>
                            <button type="button" class="btn btn-default">
                                <span class="glyphicon glyphicon-camera"></span>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </tab>
        <tab disabled="true">
            <tab-heading>
                <i class="fa fa-sitemap"></i> Virtual networks
            </tab-heading>

        </tab>
        <tab ng-controller="VirtualDisksTab">
            <tab-heading>
                <i class="fa fa-database"></i> Virtual disks
            </tab-heading>
            <button type="button" class="btn btn-default glyphicon glyphicon-plus" ng-click="newVirtualDisk()">New Disk</button>
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <td>name</td>
                    <td>size</td>
                    <td>readonly</td>
                    <td>expectations</td>
                </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="virtDisk in virtualDisks.result">
                        <td>
                            {{virtDisk.name}}
                        </td>
                        <td>
                            {{humanFriendlySize(virtDisk.size)}}
                        </td>
                        <td>
                            {{virtDisk.readOnly}}
                        </td>
                        <td>
                            <span ng-repeat="expectation in virtDisk.expectations"
                                  ng-controller="ExpectationMini"
                                  ng-init="init(expectation)">
                                <span class="label label-{{style}}">
                                    <span class="{{icon}}"></span>
                                    {{description}}
                                </span>
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </tab>
        <tab ng-controller="HostTab">
            <tab-heading>
                <i class="fa fa-server"></i> Hosts
            </tab-heading>
            <button type="button" class="btn btn-default glyphicon glyphicon-plus" ng-click="newHostForm()">Join Host</button>
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <td>address</td>
                    <td>status</td>
                    <td>dedicated</td>
                    <td>info</td>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="host in hosts" class="clickable" ng-click="showHostDetails(host.id)">
                    <td>{{host.address}}</td>
                    <td>N/A</td>
                    <td>{{host.dedicated}}</td>
                    <td><span ng-if="host.capabilities.distribution" class="label label-primary">
                                <i class="fa fa-linux"></i>
                                {{host.capabilities.distribution.name}}
                                {{host.capabilities.distribution.version.major}}
                                {{host.capabilities.distribution.version.minor}}
                                </span>
                                <span ng-if="host.capabilities.system.manufacturer" class="label label-default">
                                <i class="fa fa-industry"></i>
                                {{host.capabilities.system.manufacturer}}
                                </span>
                                <span ng-if="host.capabilities.cpuArchitecture" class="label label-info">
                                <i class="fa fa-gear"></i>
                                {{host.capabilities.cpuArchitecture}}
                                </span>
                                <span ng-if="host.capabilities.cpuArchitecture" class="label label-success">
                                <i class="fa fa-reorder"></i>
                                {{humanFriendlySize(host.capabilities.totalMemory)}}
                                </span>
                    </td>
                </tr>
                </tbody>
            </table>
            <ul class="pagination">
                <li><a href="#">&laquo;</a></li>
                <li><a href="#">&raquo;</a></li>
            </ul>
        </tab>
        <tab ng-controller="VersionInfo">
            <tab-heading>
                <i class="glyphicon glyphicon-info-sign"></i> About
            </tab-heading>
            <div class="versioninfobox">
                <img src="img/kerub.png"><br>
                <span>title: {{versionInfo.title}}</span><br>
                <span>vendor: {{versionInfo.vendor}}</span><br>
                <span>version: {{versionInfo.version}}</span><br>
                <span><a href="apidoc/">api documentation</a></span><br>
            </div>
        </tab>
    </tabset>
</div>
