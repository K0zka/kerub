<div ng-controller="MainTabs">
    <tabset>
        <tab ng-controller="VmTab">
            <tab-heading>
                <i class="glyphicon glyphicon-cog"></i>Virtual machines
            </tab-heading>
            <button type="button" class="btn btn-default glyphicon glyphicon-plus" ng-click="newVmForm()">New VM</button>
            <table class="table table-striped">
                <thead>
                <tr>
                    <td>name</td>
                    <td>vCPUs</td>
                    <td>RAM</td>
                    <td>OS</td>
                    <td>status</td>
                    <td>load</td>
                    <td>actions</td>
                </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="_vm in vms" ng-controller="VmRow" ng-init="init(_vm)">
                        <td>{{vm.name}}</td>
                        <td>{{vm.nrOfCpus}}</td>
                        <td>{{vm.memoryMb.min}} - {{vm.memoryMb.max}}</td>
                        <td></td>
                        <td>{{vmdyn.status}}</td>
                        <td>{{vmdyn.load()}}</td>
                        <td>
                            <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-play"></span> </button>
                            <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-stop"></span> </button>
                            <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-pause"></span> </button>
                            <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-camera"></span> </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </tab>
        <tab>
            <tab-heading>
                <i class="glyphicon glyphicon-cloud"></i>Virtual networks
            </tab-heading>

        </tab>
        <tab ng-controller="VirtualDisksTab">
            <tab-heading>
                <i class="glyphicon glyphicon-hdd"></i>Virtual disks
            </tab-heading>
            <button type="button" class="btn btn-default glyphicon glyphicon-plus">New Disk</button>
            <table class="table">
                <thead>
                <tr>
                    <td>size</td>
                    <td>readonly</td>
                    <td>expectations</td>
                </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="virtDisk in virtualDisks.result">
                        <td>
                            {{humanFriendlySize(virtDisk.size)}}
                        </td>
                        <td>
                            {{virtDisk.readOnly}}
                        </td>
                        <td>
                            <span ng-repeat="expectation in virtDisk.expectations">
                                <span class="label label-{{expectationLevel(expectation.level)}}">
                                    <span class="glyphicon glyphicon-{{expectationIcon(expectation)}}"></span>
                                    {{shortExpectation(expectation)}}
                                </span>
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </tab>
        <tab ng-controller="HostTab">
            <tab-heading>
                <i class="glyphicon glyphicon-wrench"></i>Hosts
            </tab-heading>
            <button type="button" class="btn btn-default glyphicon glyphicon-plus" ng-click="newHostForm()">New Host</button>
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <td>address</td>
                    <td>status</td>
                    <td>dedicated</td>
                    <td>info</td>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="host in hosts" class="clickable" ng-click="showHostDetails(host.id)">
                    <td>{{host.address}}</td>
                    <td>N/A</td>
                    <td>{{host.dedicated}}</td>
                    <td><span ng-if="host.capabilities.distribution" class="label label-primary">
                                {{host.capabilities.distribution.name}}
                                {{host.capabilities.distribution.version.major}}
                                {{host.capabilities.distribution.version.minor}}
                                </span>
                                <span ng-if="host.capabilities.system.manufacturer" class="label label-default">
                                {{host.capabilities.system.manufacturer}}
                                </span>
                                <span ng-if="host.capabilities.cpuArchitecture" class="label label-info">
                                {{host.capabilities.cpuArchitecture}}
                                </span>
                                <span ng-if="host.capabilities.cpuArchitecture" class="label label-success">
                                {{host.capabilities.totalMemory / (1024 * 1024) | number : 2}} GB
                                </span>
                    </td>
                </tr>
                </tbody>
            </table>
            <ul class="pagination">
                <li><a href="#">&laquo;</a></li>
                <li><a href="#">&raquo;</a></li>
            </ul>
        </tab>
        <tab heading="Storage">
        </tab>
        <tab ng-controller="VersionInfo">
            <tab-heading>
                <i class="glyphicon glyphicon-info-sign"></i>About
            </tab-heading>
            <div class="versioninfobox">
                <img src="img/kerub.png"><br>
                <span>title: {{versionInfo.title}}</span><br>
                <span>vendor: {{versionInfo.vendor}}</span><br>
                <span>version: {{versionInfo.version}}</span><br>
                <span><a href="apidoc/">api documentation</a></span><br>
            </div>
        </tab>
    </tabset>
</div>
